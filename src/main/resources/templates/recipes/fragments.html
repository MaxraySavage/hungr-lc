<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8"/>
    <title></title>
</head>
<body>

<th:block th:fragment="recipe-step-input(stepIndex, stepText)">
    <article class="media recipe-step">
        <div class="media-left">
            <div class="control">
                <div class="block">
                    <span class="tag recipe-step-number" th:text="${stepIndex + 1}"></span>
                </div>
                <button class="delete recipe-step-delete"></button>
            </div>
        </div>
        <div class="media-content">
            <div class="field">
                <div class="control">
                        <textarea
                                class="textarea is-small step-input"
                                th:name="|steps[${stepIndex}]|"
                                th:text="${stepText}"
                        ></textarea>
                </div>
            </div>
        </div>
    </article>

</th:block>

<th:block th:fragment="input-panel(title, itemName, fieldName, errors, items)">
    <div class="panel is-info">
        <h2 class="panel-heading" th:text="${title}"></h2>
        <div class="panel-block">
            <div class="field has-addons is-panel-input-field">
                <div class="control is-expanded has-icons-left">
                    <input class="input is-warning is-panel-text-input" type="text" th:placeholder="Add an ${itemName}"
                           th:id="${itemName}-text-input" th:data-name="${fieldName}">
                    <span class="icon is-left">
                        <i class="fas fa-plus-circle" aria-hidden="true"></i>
                    </span>
                    <p class="help is-danger" th:text="${errors} "></p>
                </div>
                <div class="control">
                    <a class="button is-info is-panel-input-button" th:data-text-source="${itemName}-text-input"
                       th:data-text-display="${itemName}-input-display">
                        Add
                    </a>
                </div>
            </div>
        </div>
        <div class="columns is-multiline is-gapless" th:id="${itemName}-input-display">
            <th:block th:each="item: ${items}">
                <div class="column is-half panel-column">
                    <label class="panel-block">
                            <span class="panel-icon panel-block-delete">
                                <i class="fas fa-times-circle" aria-hidden="true"></i>
                            </span>
                        <input class="is-hidden" type="checkbox" th:name="${fieldName}" th:value="${item}"
                               checked>
                        <span th:text="${item}"></span>
                    </label>
                </div>
            </th:block>
        </div>
    </div>

</th:block>


</body>
</html>